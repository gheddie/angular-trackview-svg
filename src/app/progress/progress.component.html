<div (mousemove)="mouseMoved($event)" (mouseup)="parentMouseUp()">

  <svg height="600" width="1200">

    <line *ngFor="let track of tracks"

          [attr.x1]="getTrackStartX(track)"
          [attr.y1]="getTrackStartY(track)"
          [attr.x2]="track.xTo"
          [attr.y2]="track.yTo"
          style="stroke:rgb(0,0,0);stroke-width:0.5px">
      <title>track</title>
    </line>

    <rect *ngFor="let waggon of collectWaggons(false)"

          (click)="waggonClicked(waggon)"

          style="stroke:#333333;opacity:0.4;border:5px solid green"

          [style.fill]="waggonFill(waggon)"

          [style.transform-origin]="generateTransformOrigin"
          [style.transform-box]="generateTransformBox"
          [style.transform]="generateWaggonTransform(waggon)"

          [attr.x]="calculateWaggonX(waggon)"
          [attr.y]="calculateWaggonY(waggon)"
          [attr.width]="calculateWaggonWidth(waggon)"
          [attr.height]="calculateWaggonHeight(waggon)"

          (dragstart)="dragstart($event)"
          (mousemove)="mousemove($event)"
          (mousedown)="mousedown($event, waggon)"
          (mouseup)="mouseup($event)">
      <title>{{generateWaggonTooltip(waggon)}}</title>
    </rect>
  </svg>

  <div class="dragging-ghost" style="visibility:{{showDraggingGhost()}}; top:{{draggingGhostTop()}}px; left: {{draggingGhostLeft()}}px; width: 100px; height: 50px; border: aquamarine 1px solid">
    {{generateDraggingGhost()}}
  </div>

</div>
